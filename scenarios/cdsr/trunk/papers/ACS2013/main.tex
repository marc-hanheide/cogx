\documentclass[11pt,letterpaper]{article}
\usepackage{cogsys}
\usepackage{cogsysapa}
% \usepackage{apacite}
% \usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage{times}
\usepackage[pdftex]{graphicx} % use this when importing PDF files
\usepackage{caption}
\usepackage{subcaption}
\usepackage{multirow}
% \usepackage{subfig}

% Put back in

 % First page headings for accepted submissions.
% \cogsysheading{1}{2012}{1-18}{9/2012}{12/2012}
 % First page headings for poster submissions.
%\cogsysposterheading{First}{2012}{1-18}

% \ShortHeadings{Formatting Instructions}
              % {P.\ Langley, G.\ Hunt, and D.\ G.\ Shapiro}

\begin{document} 

\title{CDSR Human Data/Modelling Paper}
 
% \author{Pat Langley}{langley@asu.edu}
% \author{Glen Hunt}{glen.hunt@asu.edu}
% \address{Computing Science and Engineering, Arizona State University, 
%          Tempe, AZ 85287 USA}
% \author{Daniel G.\ Shapiro}{dgs@isle.org}
% \address{Institute for the Study of Learning and Expertise, 
%          2164 Staunton Court, Palo Alto, CA 94306 USA}
\vskip 0.2in
 
\begin{abstract}
Representing and reasoning about spatial terms is an essential ability for cognitive systems interacting with humans in a shared environment.  Consider an agent asked to remain ``in the safe zone'' during a military engagement.  The size, shape, and location of this area depend on the capabilities of the agent, other agents in the scene, and the constraints imposed by the environment.  We call these types of regions \textit{context-dependent spatial regions}(CDSRs) due to the context-dependent nature of their extent.  We claim that understanding these regions requires integrating semantic and geometric knowledge about a dynamic environment as well as understanding how task-specific information influences spatial interpretation.  We report the results of a human study conducted to explore how people interpret three types of CDSRs and to support the knowledge integration claim.  We discss the implications for these results on cognitive systems development.
\end{abstract}

\section{Introduction} 
Natural collaboration between humans and cognitive systems requires both participants to communicate using a shared understanding of spatial language.  Cognitive systems can already understand spatial terms defined in terms of coordinates on a map~\cite{Zender2008a}, or that can be specified using known landmarks~\cite{brenneretal07ijcai}.  However, many spatial terms are defined not only by their geometry, but also their context and their relevance to current goals.  That is, to understand this language requires considering the other objects and agents in the environment, as well as their configuration and functional roles.  We call regions that can only be understood in this way \textit{context-dependent spatial regions} (CDSRs).

Section~\ref{sec:cdsrs} discusses the features of CDSRs using illustrative examples.  We claim that (1) people can effectively communicate using these regions, and (2) the size, location and shape of these regions change with the context.  We argue that to account for this behavior, a cognitive systems solution must respond to changing context, apply learned regions to new contexts, and reuse learned knowledge in multiple tasks.  To explore these claims, we present the results of a human study, in which, people marked regions and rated points representing CDSRs in three different environments in 13 different contexts.  In discussing the results, we consider a number of approaches from current cognitive systems and robotics.  Each approach has a number of shortcomings that must be addressed not only to improve our understanding of human spatial reasoning, but also to enable robust intelligent assistants in human environments.

\section{Context-Dependent Spatial Regions}\label{sec:cdsrs}

Consider the following regions (shown in Figure \ref{fig:examples}): the front of a classroom, safety in a military engagement, or the geographical feature of a bottleneck.  To determine these regions, one must identify the physical boundaries (e.g., walls, bodies of water), the objects within the environment, their orientation and their functional use (e.g., desks oriented toward a whiteboard), and other agents' intentions and capabilities (e.g., enemy tanks can move and have a range of attack).%  Furthermore, these regions exist at different levels of spatial resolution.  Consider a neighborhood in a city, whose boundaries expand and contract over time with changes to the surrounding residents and businesses.

%Combine these figures into a single figure across
\begin{figure}
\centering
%% Change the classroom to be a picture stimuli
\begin{tabular}{c c c} 
  \begin{subfigure}[b]{0.32\textwidth}
  \includegraphics[width=\textwidth]{figures/classroom.png}
%  \caption{\textit{The front of the classroom} could be defined as the area between the desks and the whiteboard where people give presentations.}
  \caption{\textit{The front of the classroom}.}
  \end{subfigure} &
\begin{subfigure}[b]{0.32\textwidth}
  \includegraphics[width=\textwidth]{figures/safety-3.jpg}
%  \caption{\textit{Safety for the scout} is contextually defined by the location of the friendly turrets and the capabilities of the opposing force.}
  \caption{\textit{The safe region for the scout}.}
\end{subfigure} & 
\begin{subfigure}[b]{0.32\textwidth}
  \includegraphics[width=\textwidth]{figures/bottleneck.JPG}
%  \caption{A \textit{bottleneck} occurs when paths are confined to a narrow region by geographic features.  In this case, the water prevents ground movement.}
 \caption{\textit{The bottleneck}.}
  \label{fig:safety}
  \end{subfigure}\\
\end{tabular}
  \caption{Examples of spatial regions used as stimuli in our experiments.}
  \label{fig:examples}
\end{figure}

Understanding these regions is crucial to joint intelligent action with humans; among other reasons they are frequently tieds to goals and commands: ``go to the front of the classroom'', ``defend the bottleneck'', and ``get to safety''. In the rest of the paper we present a study that examined the contextual dependence of these regions and dicuss the implications that these t. Following this we discuss the implications of these regions for the development of cognitive systems.

%JK Removed the following text and replaced with text above primarily to save space, feel free to switch back.
%  Not only are these regions frequently tied to goals and commands: ``go to the front of the classroom'', ``defend the bottleneck'', and ``get to safety'', but they are also central to understanding human activities: e.g., ``Is there a class in session?''.
%The long-term goal of our work is to create cognitive systems that can naturally interact with people in human environments.  While the study presented below illustrates the importance of context, object types and configurations, on human spatial judgements, constructing a cognitive systems approach requires more than reproducing these results.  First, the representational approach should be transferable to new contexts.  While humans do not demonstrate mastery after a single example of a concept, they are able to begin using it immediately refining it over time.  Second, the representation should be applicable in different reasoning tasks.  The functional nature of these regions makes them important for many tasks from action planning to activity recognition.


\section{Human Studies}

We developed the study described below in order to examine the following questions about CDSRs:
\begin{enumerate}
	\item Given a particular context how well do people agree on the location and extent of a named CDSR?
	\item Does the orientation and location of objects (with relevant functional semantics) in a given context effect the location and extent of a named CDSR?
\end{enumerate}

Both of these research questions address the fundamental claim that CDSRs are contextually defined. Question 1 addresses this claim by examining: (a) whether or not a CDSR is always applicable in a given enviroment (more bluntly, does a classroom always have a front or is this dependent on the configuration of objects in the room), and (b) the variation in CDSR placement and size within different context. Research question 2 addresses the contextual nature of CDSRs in terms of whether or not the variation in the location and extent of a CDSR systematically follow the variations  in the given context. 

%In a context exhibiting clear contextual clues (e.g. determining a safe zone in a battle context where all information is known and battle formations are well-defined) one would expect high agreement in human identification of the CDSR. However, in the same environment (classroom, geographic location) but with less well-defined context, one might expect little to no agreement between human communicators.  

%Research question 1 addresses the contextual nature of CDSRs because if CDSRs are contextually dependent then one would expect a variation %across the agreement between subjects for different context: in a context that afforded the use of a particular CDSR one would expect to see a %high agreement between subject reponses, conversely in a context where a CDSR was not appropriate one might expect little or no agreement %between subjects. Research question 2 address the contextual nature of CDSRs. Research question 2 addresses the contextual nature of CDSRs %in terms of whether or not the variation in the location and extent of a CDSR systematically follow the variations  in the given context. 

To examine these questions, we developed two experimental tasks:
\begin{itemize}
	\item{Task 1:} subjects were presented with a visual representation of a spatial scene plus a linguistic description containing a CDSR and were tasked with drawing a polygon on the visual stimuli that defined the CDSR (or stated there was no such region).
	\item{Task 2:} subjects were presented with a visual representation of a spatial scene with a marked location and an accompanying spatial description and were asked to rate how well the location fitted with their understanding of the CDSR on a five point likert scale.
\end{itemize}


Both Task 1 and 2 address both research questions. Between subject agreement metrics can be computed for both Task 1 and Task 2. In particular, a variation in between subject agreement across the different contexts for a particular CDSR could be taken as evidence that some contexts are more amenable to a particular CDSR than others and hence CDSRs are contextually dependent. By shifting the focus of the analysis to examining the variation in responses for a given CDSR in context that differed only with respect to the location of objects both the results from both tasks can address research question 2. In the case of Task 1 the variation we will examine is the area of the polygons, while in Task 2 the variation we will examine is the scoring of the marked locations. 

We developed a set of visual stimuli depicting different environments, and paired each with an accompanying linguistic description of a CDSR easily understood within the context of that environment (see Figure \ref{fig:exp_stimuli}). These stimuli were used in both Task 1 and 2. Throughout the rest of the paper we will use the labels from Figure \ref{fig:exp_stimuli} as the names for the different stimuli. The stimuli can be broken into three groups based on the domain and the spatial region that accompanied them: (1) the classroom domain stimuli were always accompanied by the spatial description \emph{the front of the classroom}; (2) the military engagement stimuli were always accompanied by the description \emph{safety}; and (3) the geographical map stimuli were always accompanied by the description \emph{the bottleneck}.

The classroom stimuli consisted of pairs of floor plans and photos of classrooms with different chair configurations. For example, Figure \ref{fig:classroom-a} is a floor plan of a classroom where the chairs have been arranged in a circle and Figure \ref{fig:classroom-b} is the accompanying photo of this classroom. We developed four different classroom stimuli each with a different layout of desks: a circular layout, a U shaped layout (Figure \ref{fig:classroom-c} and Figure \ref{fig:classroom-d}), a typical row-based layout with the first row of chairs close to the expected front of the room (Figure \ref{fig:classroom-e}), and the same arrangement with the front row of chairs further away from the expected front of the room (Figure \ref{fig:classroom-f})\footnote{In the interest of saving space we do not show all the classroom photo stimuli}. To control for left-right bias effects, two versions of the U shaped layout, close rows layout and far rows layout were created by horizontally flipping the layouts. Consequently, there were seven classroom stimuli (circle, U $\times$ 2, close $\times$ 2, far $\times$ 2).  The two geographical map stimuli, Figures \ref{fig:bottleneck-a} and \ref{fig:bottleneck-b}, differed in the extent of the water.  Finally, the four military engagement stimuli, Figures \ref{fig:tanks-a}, \ref{fig:tanks-b}, \ref{fig:turrets-a}, \ref{fig:tanks-b} varied the functionality of the objects in the scene (tanks that could move versus fixed turret emplacements), the location of the objects in the scenes (were the tanks close to the bottom of the image or near the top), and the number and layout of the objects (the number and layout of the turrets were varied). 

\begin{figure}
%\includegraphics[width=0.4\textwidth]{figures/turrets-plus-one.jpeg}
\centerline{
\begin{tabular}{cccc}
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/classroom-circle.pdf}\caption{}\label{fig:classroom-a}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/classroom-circle-photo.jpg}\caption{}\label{fig:classroom-b}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/classroom-u-shaped.pdf}\caption{}\label{fig:classroom-c}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/classroom-u-photo.jpg}\caption{}\label{fig:classroom-d}\end{subfigure}\\
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/classroom-close.pdf}\caption{}\label{fig:classroom-f}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/classroom-far-away.pdf}\caption{}\label{fig:classroom-e}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/bottleneck-1.jpg}\caption{}\label{fig:bottleneck-a}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/bottleneck-2.jpg}\caption{}\label{fig:bottleneck-b}\end{subfigure}\\
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/tanks-close.jpg}\caption{}\label{fig:tanks-a}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/tanks-far.jpg}\caption{}\label{fig:tanks-b}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/turrets.jpeg}\caption{}\label{fig:turrets-a}\end{subfigure}&
\begin{subfigure}[b]{0.18\textwidth}\includegraphics[width=\textwidth]{figures/turrets-plus-one.jpeg}\caption{}\label{fig:turrets-b}\end{subfigure}
\end{tabular}
}
\caption{Experiment Stimuli}
\label{fig:exp_stimuli}
\end{figure}

%\subsection{Participants and Procedure}
%Using these stimuli pairs, we developed an online experiment with two different types of trials to explore our initial questions. 43 undergraduate students from two different third level institutes took part in the study. To control for sequence effects the presentation order of the trials were randomised for each participant as was the order of the stimuli presented within each trial.   

\textbf{Participants and Procedure:} The experiment was delivered online. 43 undergraduate students from two third level institutes took part in the study. To control for sequence effects the order of the trials were randomised for each participant as was the order of the stimuli within each trial.   

\subsection{Task 1 - Design}
In the first set of trials, the subject was asked to draw a polygon that defined the extent of the CDSR given or to select a no region option.  The drawing was done on the diagram in all stimuli with the classroom photographs provided for reference in those trials.  Subjects drew polygons by clicking to position the vertices with lines being automatically generated between each point indicated as the subject drew.  There was no upper bound placed on the number of line segments drawn but subjects were required to provide at least three line segments or to choose no region before continuing to the next stimulus.

\subsection{Task 1 - Results}
We use two methods to analyze the results of region drawing task.  First, we use interannotator agreement for two reasons: (1) if there is fair to good overall agreement, this is evidence that people change the regions they produce based systematically with context, (2) we expect less agreement in ambiguous contexts (e.g., the circle (a) and U-shaped (c) desk arrangements as well as the turret + 1 (l) military engagement configuration).  Second, we use the extent points of the regions to assess changes between trials.  That is, as the desks are moved back from stimuli (e) to (f), we expect the maximum x-coordinate of the region to increase.

%Kate: Question here: good agreement -> evidence that people change regions with context.  I think this needs to be reworded
% but want to talk to John about it during the telecon tomorrow first

We use \textbf{Cohen's kappa coefficient}, $\kappa$, to measure the agreement between two regions as follows.  We generated a set of 47,000 test points that were uniformly distributed across each stimuli and used each subject's polygon to classify the test points as being inside or outside the polygon. After classifying the test points for each subject we then computed an average pairwise kappa score for each subject with all the other subjects on a per stimuli basis. In this calculation if either of the subjects in a pair entered a no region response for a particular stimuli a $\kappa$ value of 0 was used.  $\kappa$ ranges from 0 indicating no agreement beyond chance to 1 indicating complete agreement.  Typically, scores above 0.4 are considered fair agreement and 0.75 considered excellent.

% Klenk: This is where I left off.  I think we can drop the histogram and talk.

%However, this calculation was done across all the stimuli and as we have already mentioned some of the stimuli were deliberately designed to be non-prototypical, in particular we expected the classroom stimuli where the chairs were arranged in a circle (Figure \ref{fig:classroom-a}) and in a U shaped pattern (Figure \ref{fig:classroom-c} and its horizontally flipped equivalent) to be relatively novel contexts for the subjects. Indeed, if we look at the histogram of the average pairwise $\kappa$ scores by stimuli, Figure \ref{fig:stim-kappa}, it is evident that there is a large variation, ranging from $0$ to $0.8$, in $\kappa$ scores for each stimuli. 

\begin{table}[t]
\parbox{.35\linewidth}{
\begin{tabular}{l c c}
% Stim ID & Average Pairwise $\kappa$ & No Region Responses\\
 & Average & No \\
Stim ID & Pairwise $\kappa$ & Reg.\\
\hline
\hline
(h) & 0.5034 & 0\\ % 1_2
(g) & 0.4585 & 1\\ % 1_1
(k) & 0.4548 & 0\\ % 3_3
(f) & 0.3930 & 0\\ % 2_4
(i) & 0.3906 & 0\\ % 3_1
(e-flipped) & 0.3813 & 2\\ % 2_3
(j) & 0.3787 & 1\\ % 3_2
(f-flipped) & 0.3720 & 2\\ % 2_5
(e) & 0.3629 & 1\\ %2_2
(l) & 0.3164& 0\\ % 3_4
(c) & 0.2438 & 2\\ % 2_6
(c-flipped) & 0.2414 & 4\\ %2_7
(a) & 0.0996 & 10 \\ % 2_1
\hline
\end{tabular}
\label{tab:stimuli-kappa-scores}
\caption{The average pairwise $\kappa$ scores and the number of no region response by visual stimuli.}
}
\hfill
\parbox{.65\linewidth}{
\begin{tabular}{c c}
Expected Relationship & Human Results  \\
\hline
\hline
area(g) > area(h) & 291.2 > 276.2 (p<.003) \\
maximumX(f) > maximumX(e) & 176.1 > 167.1   (p<.47) \\
% minimumX(e-flipped) > minimumX(f-flipped) & 336.1 > 321.3 (p<.12) \\
minimumX(e-flipped)  &  \\
 > minimumX(f-flipped) & 336.1 > 321.3 (p<.12) \\
maximumY(i) > maxmimumY(j) & 304.64 > 265.04 (p<.03) \\
maximumY(j) > maxmimumY(k) & 265.04 > 251.71 (p<.47) \\
maximumY(k) = maxmimumY(l) & 265.04 != 290.03 (p<.04) \\
\hline
\end{tabular}
\label{tab:region-location-tests}
\caption{Comparison of the expected relationships to the mean human responses.}
}
\end{table}



%\begin{table}
%\centerline{
%\begin{scriptsize}
%\begin{tabular}{l c c c c c c c c c c c c c}
%% (h) - 1_2; (g) - 1_1; (k) - 3_3; (f) - 2_4; (i) - 3_1; (e-flipped) - 2_3; (j) - 3_2; (f-flipped) - 2_5; (e) - 2_2;  (l) - 3_4;  (c) -  2_6;  (c-flipped) - 2_7;  (a) - 2_1
%Stim ID & (h) & (g) & (k) & (f) & (i) & (e-flipped) & (j) & (f-flipped) & (e) & (l) & (c) & (c-flipped) & (a)\\ 
%Average Pairwise $\kappa$ & 0.5034 & 0.4585 & 0.4548 & 0.3930 & 0.3906 & 0.3813 & 0.3787 & 0.3720 & 0.3629 & 0.3164 & 0.2438 & 0.2414 & 0.0996 \\ 
%No Region Responses & 0 & 1 & 0& 0& 0& 2&1&2& 1& 0&2&4& 10\\
%\hline
%\end{tabular}
%\end{scriptsize}
%}
%\label{tab:stimuli-kappa-scores}
%\caption{The average pairwise $\kappa$ scores, ordered in descending order from left to right, and the number of no region response by visual stimuli. The stimuli id are based on the labels in Figure \ref{exp-stimuli} with the horizontally flipped versions of stimuli indicated.}
%\end{table}

Table \ref{tab:stimuli-kappa-scores} lists the average pairwise $\kappa$ score for each of the visual stimuli used in the experiment and the number of no region responses for each stimuli.  It is clear from this table that the less common stimuli have the lowest $\kappa$ scores.  Each of the non-typical regions, the turret +1 arrangement (l), the u-shaped layouts (c and c-flpped), and the circle layout score have kappa scores of less than 0.35. Looking at the classroom results as a whole, these results support the hypothesis that the defintion of CDSRs in a given context is effected by the location and orientation of objects in the environment.  This dependence is observed by the fact that just moving the desks into a circle configuration the CDSR for the front of the room no longer exists.

%Given this relatively large variation across stimuli, which we attribute to the typicality of the depicted context, we computed the average pairwise $\kappa$ scores for each subject when the non-prototypical stimuli trials were excluded. 
%Figure \ref{fig:subj-kappa-proto} presents the histogram of the resulting average pairwise subject  $\kappa$ scores by subject. Not surpringly, with the exclusion on the non-prototypical stimuli the average pairwise $\kappa$ scores increase, with over half the subjects having an average pairwise $\kappa$ score between $0.4$ and $0.6$. $\kappa$ scores in this range can be interpreted as fair to good.

%Kate: this is a place (above) that I think we could combine/cut.  I think we can talk about the non-typical classrooms more concisely.  Let's
% say something like "some of the layouts were non-typical -> less experience with the context -> we expect lower agreement -> this is what 
% we see" then we can say that if we remove these examples, agreement on the more typical scence is good.  So suggestions are
% (1) condense discussion (2) make it clear exactly what we expect for the non typical scenes and WHY this is tied back to our claim
% about the role of context in CDSRs.  I am happy to make these changes if John agrees that I am not horribly misinterpreting his fine results 

%The analysis of the task 1 trials indicates that, over a range of domains and spatial regions, the responses from the subjects did agree, to a good degree. Furthermore, their results support the hypothesis that the defintion of CDSRs in a given context is effected by the location and orientation of objects in the environment. For example, focusing on the classroom scenes (stimuli, $a$, $c$, $e$, and $f$) the only difference between these trials was the layout of the chairs in the room and yet there is a substantial variation across these stimuli of the agreement between subjects on the specified spatial region, namely \textit{the front of the room}. Situation $f$ resulted in an average pairwise agreement of $0.393$ and in comparision context $a$ had an average pairwise agreement of $0.0996$. 


%\begin{figure}
%%\includegraphics[width=0.4\textwidth]{figures/turrets-plus-one.jpeg}
%\centerline{
%\begin{tabular}{ccc}
%\begin{subfigure}[b]{0.3\textwidth}\includegraphics[width=\textwidth]{figures/subj-kappa-hist.pdf}\caption{}\label{fig:subj-kappa}\end{subfigure}&
%\begin{subfigure}[b]{0.3\textwidth}\includegraphics[width=\textwidth]{figures/stimuli-kappa-hist.pdf}\caption{}\label{fig:stim-kappa}\end{subfigure}&
%\begin{subfigure}[b]{0.3\textwidth}\includegraphics[width=\textwidth]{figures/subj-kappa-hist-protostim.pdf}\caption{}\label{fig:subj-kappa-proto}\end{subfigure}
%\end{tabular}
%}
%\caption{(a) Histogram of average pairwise subject kappa score across all stimuli by subject, (b) histogram of average pairwise subject kappa scores for each stimuli, (c) histogram of average pairwise subject kappa score excluding non-prototypical stimuli by subject.}
%\label{fig:type-1-hists}
%\end{figure}




\subsection{Task 2 - Design} 
In the second set of trials, a location was marked on the visual stimuli (using a red dot) and the subject was asked to rank on a five point likert scale their judgement of how well the location matched the described spatial region.  The location of these points was informed by the results of a pilot study. In the final study they were positioned such that one of the domain's points, called the \textbf{sweetspot}, was located near the expected prototypical center of the described spatial region. In the classroom domain the three points were located along the horizontal line that bisected the stimuli with P1 positioned on the left of the stimuli, P2 in the center and P3 on the right of the stimuli (as shown in Figure \ref{fig:classroom-points}). One of the aims of this configuration of points was to provide comparable data points between the trials where the classroom stimuli were horizontally flipped. In the classroom domain the expected sweetspot varied between the points depending on the stimuli. In the map domain P1 was positioned in the top left corner of the stimuli,  P2 was the expected sweetspot and was located within the expected bottleneck region for both stimuli and P3 was located in the bottom right corner of the stimuli (see Figure \ref{fig:bottleneck-points}).  In the military engagement domain the three test points were located on the vertical line that bisected the stimuli: P1 was located near the top of the image in the proximity of the enemy tanks, P2 was located near the center of the image such that in some stimuli it was in a no-man's land position and in other stimuli (specifically stimuli (i) in the friendly tanks have moved forward and (l) where there is an extra friendly turret) it could be considered to be in a protected area, and P3 was located near the bottom of the stimuli and consequently was always located behind the friendly tanks/turrets. P3 was the expected sweetspot in the military engagement domain but it was also hoped that P2 rating would differ between the stimuli where it was in no-mans land and where it recieved some protection. 

%Kate: to save some space, maybe we could talk generally about location placement and only give specifics for one set of stimuli?  Just a though

\subsection{Task 2 - Results}

%Task 1: The participant draws a polygon denoting the region
%Analysis of results:
%(1) Do participants agree/understand-the-task? (validation of approach) + Should anyone be excluded?
%Within the data for each trial,
%-- For each participant, generate the intersection and union polygon of all the other participants
%---- Generate N random points in the area of the full stimulus
%---- For each of these N points check whether the participant's polygon and the [intersection/union] polygon both include it (agree++) or if one includes it and the other doesn't (disagree++)
%---- Then we calculate a Cohen Kappa score as a measure of agreement between the participant and eveyone else. Note we need to calculate the chance of random agreement but we can do this as a function over the relative size of the participant's polygon in the total area of the stimulus and the relative size of the intersection/union polygon
%(see http://en.wikipedia.org/wiki/Cohen%27s_kappa )
%This process will result in for each trial a list of kappa scores for each participant indicating the extent to which they agree with everyone else. We are hoping for a high kappa score
%(2) Does context matter?
%I understand that all the rooms stimuli have the same extent.
%So one way of evaluating whether context matters is to use the kapp score between the intersection/union polygon generated using all the response (less the excluded partitipants) for one trial and the equivalent polygon for another trial.
%We are hoping for a low kappa score

%Cohen's kappa measures the agreement between two annotators who each classify a number of items into two or more mutually exclusive classes as is defined as follows:
%\begin{equation*}
%\kappa = \frac{P(a)-P(ca)}{1-P(ca)}
%\end{equation*}
%where $P(a)$ is the observed relative agreement between the annotators, and $P(ca)$ is the probability of a chance agreement between these to annotators. 

%In the type 1 trials subjects drew a polygon on the visual stimuli that defined the location and extent of the relevant spatial region. In analysising the results of these trials we wished to investigate how well the subject's responses agreed with each other and, also, whether the location and orientation of objects in the scene effected the definition of spatial regions in the scene. 




%The type 2 trials the same visual stimuli and accompanying spatial descriptions as the type 1 trials with the addition that a location was marked on %the visual stimuli (using a red dot) and the subject was asked to rank on a five point likert scale their judgement of how well the location matched %the described spatial region. For each stimuli domain (classroom, map, military engagement) three points (P1, P2, and P3) were pre-selected.


Table \ref{tab:point-likert-scores} lists the average likert scores for the different points in each domain. For each stimuli we have highlighted in bold the maximum average likert rating for a point for that stimuli. In all cases the expected sweetspot received the maximum average likert rating for trials using that stimuli. For each stimuli we tested whether the higher ratings of the sweetspot locations was statistically significant using one-tailed two sample t-tests and in all cases the ranking of the sweetspot was found to be significantly higher than either of the other two points using a confidence level of $95\%$. 
%There were two of these t-tests carried out for each stimuli, each one tested whether the sweetspot ranking was statistically higher than one of the other points. Table \ref{tab:point-likert-scores} also lists the results of these t-tests for each stimuli. In all cases, the results indicate that the null hypothesis, $H_0$, should be rejected and that the alternative hypothesis, namely that the sweetspot was rated significantly higher than the other point, could be accepted with $\alpha=0.05$.

As noted above, we controlled for left-right bias by flipping some of the stimuli on the horizontal axis. These flipped stimuli included the classroom stimuli (c), (e) and (f). This flipping of stimuli gave us the opportunity to compare the results of the sweetspots rankings between this pairs of stimuli trials. Given the horizontal flipping of the stimuli it was expected that the sweetspot for the stimuli should also be flipped between P1 and P3. To test whether or not the expected shift in the sweetspots occurred we ran two-tailed two sample t-tests between the sweetspots of the flipped and non-flipped stimuli pairs. In all cases the results indicated that there was no statistical difference between the rating of the sweetspot for the non-flipped stimuli and the rating of the sweetspot for the flipped stimuli using a confidence level of $95\%$. In other words, the sweetspot flipped from P1 to P3 systematically with the horizontal flipping of the stimuli. %lending support for question 2 ...

Another way of testing the relationship between the variation in context and the variation in definition of the CDSRs is to look at the differences in the ranking of the P2 point in the miliatary engagement domain between the pair of stimuli (i) and (j) and the pair of stimuli (k) and (l). In stimuli (i) the friendly tanks are positioned between the P2 point and the enemy tanks whereas in stimuli (j) the P2 point is in no-mans land. Given this change in the context one would expect a higher ranking for the P2 point in context (i) than in context (j). As the results in Table \ref{tab:point-likert-scores} show this is the case with average rating of P2  stimuli (i) being higher than that for (j). This higher rating is statiscially significant at a $95\%$ confidence level. Stimuli (k) and (l) present and analagous context with P2 being protected by an extra turret in stimuli (l) but in no-mans land in stimuli (k). Again, the average rating of P2 for stimuli (l) is higher than that of (k), although this difference is not statistically significant. Notice, that the rating of the sweetspot for the stimuli (i) and (l) remain quite high. This would indicate that the increase in the rating of the P2 points for these stimuli results from an increase in the area of the CDSR rather than a moving of the locus of the CDSR. Overall, the analysis of the ratings of the different sweetspots across the non-flipped and flipped stimuli and the variation in the ratings of the P2 points in the military domain stimuli point to the fact that both the location and the extent of a CDSR is contextually dependent.


%\begin{figure}
%%\includegraphics[width=0.4\textwidth]{figures/turrets-plus-one.jpeg}
%\centerline{
%\begin{tabular}{ccc}
%\begin{subfigure}[b]{0.3\textwidth}\includegraphics[width=\textwidth]{figures/classroom-circle-points.png}\caption{}\label{fig:classroom-points}\end{subfigure}&
%\begin{subfigure}[b]{0.3\textwidth}\includegraphics[width=\textwidth]{figures/bottleneck-2-points.png}\caption{}\label{fig:bottleneck-points}\end{subfigure}&
%\begin{subfigure}[b]{0.3\textwidth}\includegraphics[width=\textwidth]{figures/tanks-close-points.png}\caption{}\label{fig:tanks-points}\end{subfigure}\\
%\end{tabular}
%}
%\caption{The pre-selected locations for each domain used in the Type 2 Trials.}
%\label{fig:locations}
%\end{figure}

\begin{table}
\centerline{
\begin{tabular}{l c c c c c c c }
\hline
\hline
%Domain & \multicolumn{7}{l}{Map/Bottleneck} \\
\textbf{Map} & g & h & ~ & ~ & ~ & ~ & ~ \\ 
P1 & $1.1707$ & $1.1707$ & ~ & ~ & ~ & ~ & ~ \\
P2 & $\mathbf{4.6667}$ & $\mathbf{4.7561}$ & ~ & ~ & ~ & ~ & ~ \\
P3 & $1.85$ & $1.585$ & ~ & ~ & ~ & ~ & ~ \\
\hline
%Domain & \multicolumn{7}{l}{Classrom/Front of Room} \\
\textbf{Classroom}& a & c & c-flipped & e & e-flipped & f & f-flipped \\
P1 & $\mathbf{3.5122}$ & $\mathbf{4.7073}$ & $1.244$  & $\mathbf{4.7561}$ & $1.2439$ & $\mathbf{4.8292}$ & $1.1463$\\
P2 & $2.6341$ & $2.9024$ & $2.9268$ & $2.0000$ & $1.8500$ & $2.0976$ & $2.3171$\\
P3 & $1.9024$ & $1.3571$ & $\mathbf{4.6429}$ & $1.2439$ & $\mathbf{4.7073}$ & $1.2750$ & $\mathbf{4.6585}$\\
\hline
%Domain & \multicolumn{7}{l}{Military Engagement/Safe Region} \\
\textbf{Military} & i & j & k & l & ~ & ~ & ~ \\
P1 & $1.1951$ & $1.0952$ & $1.0714$ & $1.2327$ & ~ & ~ & ~ \\
P2 & $4.3902$ & $2.2927$ & $2.7804$ & $3.1667$& ~ & ~ & ~ \\
P3 & $\mathbf{4.9024}$ & $\mathbf{4.5122}$ & $\mathbf{4.6585}$ & $\mathbf{4.7073}$ & ~ & ~ & ~ \\
\hline
\end{tabular}
}
\label{tab:point-likert-scores}
\caption{Average Likert Ratings per Point by Domain and stimulus.}
\end{table}


%\begin{table}
%\centerline{
%\begin{tabular}{l c c c }
%\hline
%\hline
%Domain & \multicolumn{3}{c}{Map/Bottleneck} \\
%% ~ & \multicolumn{3}{c}{Average Likert Rating} \\
%Stim ID & P1 & P2 & P3 \\
%(g) & $1.1707$ & $\mathbf{4.6667}$ & $1.85$\\ % 1_1
%(h) & $1.1707$ & $\mathbf{4.7561}$ & $1.585$ \\ % 1_2
%\\
%\hline
%Domain & \multicolumn{3}{c}{Classrom/Front of Room} \\
%% ~ & \multicolumn{3}{c}{Average Likert Rating} \\
%Stim ID & P1 & P2 & P3 \\
%(a) & $\mathbf{3.5122}$ & $2.6341$ & $1.9024$ \\ % 2_1
%(c) & $\mathbf{4.7073}$ & $2.9024$ & $1.3571$ \\ % 2_6
%(c-flipped) & $1.244$ & $2.9268$ & $\mathbf{4.6429}$ \\ %2_7
%(e) & $\mathbf{4.7561}$ & $2.0000$ & $1.2439$ \\ %2_2
%(e-flipped) & $1.2439$ & $1.8500$ & $\mathbf{4.7073}$ \\ % 2_3
%(f) & $\mathbf{4.8292}$ & $2.0976$ & $1.2750$ \\ % 2_4
%(f-flipped) & $1.1463$ & $2.3171$ & $\mathbf{4.6585}$ \\ % 2_5
%\\
%\hline
%Domain & \multicolumn{3}{c}{Military Engagement/Safe Region} \\
%% ~ & \multicolumn{3}{c}{Average Likert Rating} \\
%Stim ID & P1 & P2 & P3\\
%(i) & $1.1951$ & $4.3902$ & $\mathbf{4.9024}$ \\ % 3_1
%(j) & $1.0952$ & $2.2927$ & $\mathbf{4.5122}$ \\ % 3_2
%(k) & $1.0714$ & $2.7804$ & $\mathbf{4.6585}$ \\ % 3_3
%(l) & $1.2327$ & $3.1667$ & $\mathbf{4.7073}$\\ % 3_4
%\\
%\hline
%\end{tabular}
%}
%\label{tab:point-likert-scores}
%\caption{Average Likert Ratings per Point by Domain and stimulus.}
%\end{table}


%\begin{table}
%\centerline{
%\begin{tabular}{l c c c l}
%\hline
%Domain & \multicolumn{4}{c}{Map/Bottleneck} \\
% ~ & \multicolumn{3}{c}{Average Likert Rating} & Sweetspot Rated Significantly Higher? \\
%Stim ID & P1 & P2 & P3 & One-Tailed Two Sample T-Test with $\alpha=0.05$, $H_0:\mu(P_i)=\mu(P_j)$\\
%(g) & $1.1707$ & $\mathbf{4.6667}$ & $1.85$ & $H_A:\mu(P2)>\mu(P1),~p<2.2^{-16};~H_A:\mu(P2)>\mu(P3),~p<2.2^{-16}$\\ % 1_1
%(h) & $1.1707$ & $\mathbf{4.7561}$ & $1.585$ & $H_A:\mu(P2)>\mu(P1),~p<2.2^{-16};~H_A:\mu(P2)>\mu(P3),~p<2.2^{-16}$\\ % 1_2
%\\
%\hline
%Domain & \multicolumn{4}{c}{Classrom/Front of Room} \\
% ~ & \multicolumn{3}{c}{Average Likert Rating} & Sweetspot Rated Significantly Higher? \\
%Stim ID & P1 & P2 & P3 & One-Tailed Two Sample T-Test with $\alpha=0.05$, $H_0:\mu(P_i)=\mu(P_j)$\\
%(a) & $\mathbf{3.5122}$ & $2.6341$ & $1.9024$ & $H_A:\mu(P1)>\mu(P2),~p=6.497^{-4};~H_A:\mu(P1)>\mu(P3),~p=4.073^{-8}$\\ % 2_1
%(c) & $\mathbf{4.7073}$ & $2.9024$ & $1.3571$ & $H_A:\mu(P1)>\mu(P2),~p=6.396^{-16};~H_A:\mu(P1)>\mu(P3),~p<2.2^{-16}$\\ % 2_6
%(c-flipped) & $1.244$ & $2.9268$ & $\mathbf{4.6429}$ & $H_A:\mu(P3)>\mu(P1),~p<2.2^{-16};~H_A=\mu(P3)>\mu(P2),~p:1.864^{-12}$\\ %2_7
%(e) & $\mathbf{4.7561}$ & $2.0000$ & $1.2439$ & $H_A=\mu(P1)>\mu(P2),~p<2.2^{-16};~H_A=\mu(P1)>\mu(P3):~p<2.2^{-16}$\\ %2_2
%(e-flipped) & $1.2439$ & $1.8500$ & $\mathbf{4.7073}$ & $H_A=\mu(P3)>\mu(P1),~p<2.2^{-16};~H_A=\mu(P3)>\mu(P2):~p<2.2^{-16}$\\ % 2_3
%(f) & $\mathbf{4.8292}$ & $2.0976$ & $1.2750$ & $H_A=\mu(P1)>\mu(P2),~p<2.2^{-16};~H_A=\mu(P1)>\mu(P3),~p<2.2^{-16}$\\ % 2_4
%(f-flipped) & $1.1463$ & $2.3171$ & $\mathbf{4.6585}$ & $H_A=\mu(P3)>\mu(P1),~p<2.2^{-16};~H_A=\mu(P3)>\mu(P2),~p<2.2^{-16}$\\ % 2_5
%\\
%\hline
%Domain & \multicolumn{4}{c}{Military Engagement/Safe Region} \\
% ~ & \multicolumn{3}{c}{Average Likert Rating} &  Sweetspot Rated Significantly Higher?\\
%Stim ID & P1 & P2 & P3 & One-Tailed Two Sample T-Test with $\alpha=0.05$, $H_0:\mu(P_i)=\mu(P_j)$\\
%(i) & $1.1951$ & $4.3902$ & $\mathbf{4.9024}$ & $H_A=\mu(P3)>\mu(P1),~p<2.2^{-16};~H_A=\mu(P3)>\mu(P2),~p=5.382^{-4}$\\ % 3_1
%(j) & $1.0952$ & $2.2927$ & $\mathbf{4.5122}$ & $H_A=\mu(P3)>\mu(P1),~p<2.2^{-16};~H_A=\mu(P3)>\mu(P2),~p<7.981^{-14}$\\ % 3_2
%(k) & $1.0714$ & $2.7804$ & $\mathbf{4.6585}$ & $H_A=\mu(P3)>\mu(P1),~p<2.2^{-16};~H_A=\mu(P3)>\mu(P2),~p=2.708^{-13}$\\ % 3_3
%(l) & $1.2327$ & $3.1667$ & $\mathbf{4.7073}$ & $H_A=\mu(P3)>\mu(P1),~p<2.2^{-16};~H_A=\mu(P3)>\mu(P2),~p=6.621^{-12}$\\ % 3_4
%\\
%\hline
%\hline
%\end{tabular}
%}
%\label{tab:point-likert-scores}
%\caption{Average Likert Ratings per Point by Domain with T-Test results: in all cases the average rating of the sweetspot is significantly higher than the other points tested for that stimuli}
%\end{table}


%\begin{table}
%\centerline{
%\begin{tabular}{c c c c }
%\hline
%Domain & \multicolumn{3}{c}{Classrom/Front of Room} \\
%$H_0$ & $H_A$ & $\alpha$ & p-value\\
%$\mu(c.P1)=\mu(c-flipped.P3)$ & $\mu(c.P1)!=\mu(c-flipped.P3)$ & $0.05$ & $0.6315$\\
%$\mu(e.P1)=\mu(e-flipped.P3)$ & $\mu(e.P1)!=\mu(e-flipped.P3)$ & $0.05$ & $0.7358$\\
%$\mu(f.P1)=\mu(f-flipped.P3)$ & $\mu(f.P1)!=\mu(f-flipped.P3)$ & $0.05$ & $0.2592$\\
%\hline
%\hline
%\end{tabular}
%}
%\label{tab:flipped-point-likert-scores}
%\caption{Two Tailed Two Sample T-Tests for flipped stimuli pair trials.}
%\end{table}

Taken together these results indicate that: (a) for all stimuli there was a location that was considered to be inside the region described by the linguistic term and that other locations were considered to be outside of this region; (b) within each domain the particular location that was considered to be the sweetspot was determined by the particular context depicted in the visual stimuli (i.e., changes in the position and orientation of objects with functional significance effected the location of the region); and (c) the impact of the changes in the depicted context was consistent across similar contexts, as shown by the fact that the sweetspot flipped from P1 to P3 when the context was flipped.



%-----------------
%
%Task 2: The participant selected a point denoting the sweetspot of the region
%Analysis of results:
%(1) Do participants agree/understand-the-task? (validation of approach) + Should anyone be excluded?
%Compare the variance across the subjects with the variance across a number of set of randomly generate points, where set size equals the number of participants, using the F distribution (http://www.ltcconline.net/greenl/courses/201/regression/comparingVariances.htm) where we are checking if the variance of the random points are greater than that of the participants.
%We would hope that the variance of the subjects responses is lower than that of randomly generated points.
%After the initial comparison with the random point sets we may exclude participants based on extreme variance.
% 
%(2) Does context matter?
%Do the clusters of participants responses move?
%- for each experimental stimulus compute the mean x and y location for the responses for that trial
%- check whether the variance between the means of different stimuli responses is greater than the variance within each stimulus responses.

%-----------------
%
%
%Task 3: The participant grades a point with respect to membership of the region on a likert scale
%I understand this experiment to be useful because (a) it asks the participants to evaluate (rather than generate cf task 1 and 2) (b) hopefully we can use it to reinforce our findings in task 1 and task 2
%I think we need to be careful that the points we present to people for evaluation are reasonably well distributed so that we have a good chance of getting a variation across the responses
%Assuming that there is a variation across the likert scores for a particular stimulus then check if their is a correlation between the scores and:
%(a) inclusion in the intersection/union polygons from task 1 for the same stimulus
%(b) distance from the mean sweet spot for that stimulus from task 2
%
%-----------------
 




\section{Applicability of Previous Approaches to Cognitive Systems }

%Recall from section \ref{} that in addition to being able to represent these regions for a single environment, the cognitive system (1) must recognize regions of the same type in new environments with new contexts, and (2) use the region for multiple reasoning tasks.  While spatial reasoning has been an active topic in AI and robotics for decades, CDSRs present a new problem which requires solutions beyond the current state-of-the-art. Regions are central to QSR work~\cite{Cohn:2001}. Regions can either have crisp boundaries, usually defined by geometric shapes (e.g. the bounding boxes of visually tracked objects~\cite{SridharCohn:10}), or vague boundaries created qualitatively by multiple crisp regions (e.g. the `egg-yolk model'~\cite{Cohn96b}), or by thresholding an underlying spatially-mapped function (e.g. those created by potential fields~\cite{brenneretal07ijcai} or by Gaussian kernels~\cite{burbridge-dearden12}). The fundamental decision when creating a computational model of a CDSR is the method used to represent its boundary. Given their context-dependent nature, boundary definitions based purely on single geometric shapes or a fixed number of points, seem unlikely to model the regions with sufficient accuracy.
%
%However, arbitrary boundaries can be defined using a sequence of geometric primitives (usually straight lines), as in chain codes for image region representations~\cite{Freeman:1961}. This is an approach we followed in previous work \cite{Hawes:2012}, where we defined CDSRs using \textit{anchor points} \cite{DBLP:journals/jetai/KlenkFTK11} as the vertices of the region polygon thereby linking the conceptual regions to perceived objects.   While satisfying the requirements of a cognitive systems solution, applying this model to our results of our experiemnt illustrates two limitations.  First, Regions are not always physically bounded by objects.  In the classroom examples, people frequently did not extend the front of the room all way to the desks.  Second, people consider dynamics part of the context, in the safety example, people did not indicate that it was safe behind the lone turret in front of the others.
%
%The connection between spatial regions and function has been explored in other robotics work, e.g. ~\cite{Karg:2012,Fasola:2013}, but these regions are based on fields anchored at single points in the environment or on a particular object. Therefore, they cannot account for the changes in context shown in this experiment which depend on multiple objects, agents, and simulation.

%JK Previous version above I replaced it with this shorter version below

Spatial reasoning has been an active topic in AI and robotics for decades, CDSRs present a new problem which requires solutions beyond the current state-of-the-art. Regions are central to QSR work~\cite{Cohn:2001} and also in the area of cognitive robitics (see \emph{inter alia.} ~\cite{brenneretal07ijcai,kelleher/costello:09}). A fundamental decision when creating a computational model of a CDSR is the method used to represent its boundary. Given their context-dependent nature, boundary definitions based purely on single geometric shapes or a fixed number of points, seem unlikely to model the regions with sufficient accuracy. However, arbitrary boundaries can be defined using a sequence of geometric primitives (usually straight lines). This is an approach we followed in previous work \cite{Hawes:2012}, where we defined CDSRs using \textit{anchor points} \cite{DBLP:journals/jetai/KlenkFTK11} as the vertices of the region polygon thereby linking the conceptual regions to perceived objects.  While satisfying the requirements of a cognitive systems solution, applying this model to our results of our experiemnt illustrates two limitations.  First, Regions are not always physically bounded by objects.  In the classroom examples, people frequently did not extend the front of the room all way to the desks.  Second, people consider dynamics part of the context, in the safety example, people did not indicate that it was safe behind the lone turret in front of the others. Finally, the connection between spatial regions and function has been explored in other robotics work, e.g. ~\cite{Karg:2012,Fasola:2013}, but these regions are based on fields anchored at single points in the environment or on a particular object. Therefore, they cannot account for the changes in context shown in this experiment which depend on multiple objects, agents, and simulation.

%--------------------------


%Once a particular representation has been modelled in this manner, we were able to find the same type of region in previously unseen rooms using analogical transfer. An example of the representation and transfer approach is Figure \ref{fig:anchor-point-transfer}.  In the know example, a human defines the front of the classroom as a polygon consisting of four anchor points.  Analogical transfer works by aligning structured representations and transferring partially aligned statements from the known example to the new environment.  In this case, the anchor points are transferred from the group of desks in the known example to the corresponding group of desks in the new environment.

%\begin{figure}
%  \includegraphics[width=\columnwidth]{figures/classroom-transfer.png}
%  \caption{The known example defines the front of the room with four anchor points.  By transferring the anchor points to the new environment, the system is able to ground the room's front in its perception.}
%  \label{fig:anchor-point-transfer}
%\end{figure}



\section{Discussion}
Cognitive systems do not face problems in isolation.  Context, including its goals, objects in the environment, and other agents, impact how information is processed and how actions are undertaken.  In this paper, we presented a human study to develop requirements for reasoning about context dependent spatial regions for cognitive systems.  We found that (1) people can communicate with CDSRs, although their ability to do so decreases when situations become ambiguous, and (2) varying the location and types of the objects and agents in an environment resulted predicted changes in the location, size, and shape of the spatial region.  We outline requirements for a cognitive systems solution and discuss limitations in current approaches from cognitive systems and robotics.  Solutions to this problem will significantly improve the interaction between people and intelligent systems in human environments with applications to domestic robots, security, and activity recognition.

\begin{acknowledgements} 
\noindent
The research leading to these results has received funding from the European Union Seventh Framework Program (FP7/2007-2013) under the project STRANDS (grant agreement No 600623), and from the EPSRC under grant EP/K014293/1.
\end{acknowledgements} 




\vspace{-0.25in}

{\parindent -10pt\leftskip 10pt\noindent
\footnotesize
\bibliographystyle{cogsysapa}
\bibliography{cdsr}

}

% Leave a blank line before the closing brace to ensure the final 
% reference has the proper indentation. 

\end{document} 
