
Building the system
===================

If the file BUILD/CMakeCache.txt doesn't exist, you can create one with:

   bash sysconfig/prepare_build.sh

This will create the BUILD directory and run cmake with the initial cache file
sysconfig/cmakecache/george-y4.txt.

It is a good idea to build all the slice libraries in advance. The following
command will build the slice files for ALL the subarchitectures and tools:

   tools/scripts/makeslice

Change into BUILD and run make or start the build from CAST Control. If you
encounter problems with the libraries levmar or homest, you may have to change
F2C_LIB from 'f2c' to 'f2c.a' in ccmake.

If you want to restore the set of components that are built in the George
system, use the following command:

   tools/scripts/cmake-apply BUILD sysconfig/cmakecache/george-y3.txt

To save the current set of components:

   tools/scripts/cmake-freeze > my-components.txt


Mac users
---------

The command 'readlink -f' doesn't work on Mac and there are some problems
between sed and the shell. Do the following:

  mkdir BUILD
  cd BUILD
  ccmake -C ../sysconfig/cmakecache/george-y3.txt  ..


Changing externals
==================

The externals can be changed with the script applyexternals.sh in sysconfig:

   cd sysconfig
   bash  applyexternals.sh  george-y3-trunk.externals
   svn up ..

if the .externals file is not provided, the default file george-y3.externals
will be used.


The VisualLearner component
===========================

If you don't have the Matlab Compiler you have to download the prebuilt
component from  http://cogx.eu/data/cogx/prebuilt/ and install the files into

 subarchitectures/vision.sa/prebuilt/VisualLearner/glnx86

You can also use the George Year 2 DVD ISO to run the VisualLearner component
inside the virtual machine. See

 https://codex.cs.bham.ac.uk/trac/cogx/wiki/documents/scenarios/george2/review


Fake VisualLearner component
----------------------------

You can also build a fake VisualLearner that doesn't use Matlab, but doesn't do
anything useful, either. It just adds some constant values to the appropriate
WM entries. The fake component is built instead of the real one if the option
BUILD_SA_VISION_VISLEARNER_FAKE is enabled in cmake.


George
======

(See also the file instantiations/george/README)

In simulation with Gazebo and Player
------------------------------------

* Server configuration:
   - instantiations/gazebo/george-01.world
   - instantiations/player/cogx-platform-sim.cfg

* Use one of the run-george-*.cast files, eg.: 
   - instantiations/george/run-george-all.cast
   - verify that the variable 'hardware' is set to 'simulation'


Managing objects in the scene
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

(Check that the juggler.incl is included in the top cast file.) This will include
the GazeboJuggler component which will remove all the objects from the scene at
startup. Then you can place individual objects back on the scene in the
GazeboJuggler dialog. Press the yellow icon in the "CAST Viewer" window to
show/hide the dialog window.


On the real robot
-----------------

* Server configuration:
   - instantiations/player/cogx-platform.cfg

* Use one of the run-george-*.cast files, eg.: 
   - instantiations/george/run-george-all.cast
   - verify that the variable 'hardware' is set to 'real'

Analyze Proto Objects
---------------------

The system will analyze proto objects when the "Anal. PO" goal is enabled in
"Motivation::ManualSelectFilter" window.


