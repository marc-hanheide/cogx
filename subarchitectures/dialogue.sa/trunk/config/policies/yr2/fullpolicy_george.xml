<policy>
	<nodes>
		<node id="startNode" isInitial="true" isFinal="false"/>
		<node id="rootNode" isInitial="false" isFinal="true" action="forwardAction"/>
		<node id="greetingNode" isFinal="true" isInitial="false" action="greetingAction"/>
		<node id="thankingNode" action="thankAction" isFinal="true" isInitial="false"/>
		<node id="closingNode" action="closingAction" isInitial="false" isFinal="true"/>
		<node id="whAnswerNode" action="whAnswerAction" isInitial="false" isFinal="true"/>
<!--		<node id="pAnswerNode" action="pAnswerAction" isInitial="false" isFinal="true"/> -->
	</nodes>
	
	<edges>
		<edge id="greetingEdge" source="startNode" target="greetingNode" condition="greetingCond"/>
		<edge id="greetingEdge2" source="closingNode" target="greetingNode" condition="greetingCond"/>
		<edge id="evalEdge" source="rootNode" target="thankingNode" condition="evalCond"/>
		<edge id="evalEdge2" source="greetingNode" target="thankingNode" condition="evalCond"/>
		<edge id="anyEdge" source="rootNode" target="rootNode" condition="anyCond"/>	
		<edge id="anyEdge2" source="greetingNode" target="rootNode" condition="anyCond"/>
		<edge id="anyEdge3" source="thankingNode" target="rootNode" condition="anyCond"/>
		<edge id="anyEdge4" source="closingNode" target="rootNode" condition="anyCond"></edge>
		<edge id="anyEdge5" source="startNode" target="rootNode" condition="anyCond"/>
		<edge id="closingEdge" source="rootNode" target="closingNode" condition="closingCond"/>
		<edge id="closingEdge2" source="greetingNode" target="closingNode" condition="closingCond"/>
		<edge id="closingEdge3" source="thankingNode" target="closingNode" condition="closingCond"/>
		<edge id="closingEdge4" source="whAnswerNode" target="closingNode" condition="closingCond"/>
		<edge id="whQuestionEdge" source="rootNode" target="whAnswerNode" condition="whQuestionCond"/>
		<edge id="whQuestionEdge2" source="greetingNode" target="whAnswerNode" condition="whQuestionCond"/>
		<edge id="whQuestionEdge3" source="startNode" target="whAnswerNode" condition="whQuestionCond"/>
	<!--	<edge id="pQuestionEdge" source="rootNode" target="pAnswerNode" condition="pQuestionCond"/> -->
	</edges>
	
	<conditions>
		<condition id="anyCond" content="&lt;pre&gt;(%1) ^ &lt;post&gt;(&lt;belief&gt;(&lt;ref&gt;(%2)))" lowerProb="0.0" higherProb="1.0" type="communicativeintention"/>
		<condition content="&lt;state&gt;(engagement-open ^ &lt;agent&gt;(human) ^ &lt;agent&gt;(robot))" id="greetingCond" lowerProb="0.0" higherProb="1.0" type="communicativeintention"/>
		<condition id="evalCond" content="&lt;state&gt;(appreciated ^ &lt;agent&gt;human ^ &lt;patient&gt;robot)" type="communicativeintention" lowerProb="0.0" higherProb="1.0"></condition>
		<condition id="closingCond" type="communicativeintention" lowerProb="0.0" higherProb="1.0" content="&lt;state&gt;(engagement-closed ^ &lt;agent&gt;(human) ^ &lt;agent&gt;(robot))"/>
		<condition id="whQuestionCond" type="communicativeintention"
			lowerProb="0.0" higherProb="1.0" content="&lt;pre&gt;(%1) ^ &lt;post&gt;(&lt;state&gt;(question-answered ^ &lt;about&gt;(&lt;ref&gt;(%2)  ^ &lt;color&gt;(%3)) ^ &lt;feature&gt;(color)))" />
	<!--	<condition id="pQuestionCond" type="communicativeintention"
			lowerProb="0.0" higherProb="1.0" content="&lt;pdddre&gt;(%1) ^ &lt;post&gt;(&lt;state&gt;(question-answered ^ &lt;about&gt;(&lt;ref&gt;(%2)  ^ &lt;color&gt;(%3)) ^ &lt;feature&gt;(color)))" /> -->
	</conditions>
	
	<actions>
		<action id="forwardAction" content="&lt;pre&gt;(%1) ^ &lt;post&gt;(&lt;belief&gt;(%2))" type="attributedintention"></action>
		<action id="greetingAction" type="communicativeintention" content="&lt;state&gt;(engagement-open ^ &lt;agent&gt;(robot) ^ &lt;agent&gt;(human))"></action>
		<action id="thankAction" type="communicativeintention" content="&lt;state&gt;(thanked ^ &lt;agent&gt;human ^ &lt;patient&gt;robot)"></action>
		<action id="closingAction" type="communicativeintention" content="&lt;state&gt;(engagement-closed ^ &lt;agent&gt;(robot) ^ &lt;agent&gt;(human))"></action>
		<action id="whAnswerAction" type="communicativeintention" content="&lt;pre&gt;(%1) ^ &lt;post&gt;(&lt;state&gt;(grounded ^ &lt;about&gt;(%2) ^ &lt;content&gt;(&lt;color&gt;(%3))))" />
<!--	    <action id="pAnswerAction" type="communicativeintention" content="&lt;pre&gt;(%1) ^ &lt;post&gt;(&lt;state&gt;(grounded ^ &lt;about&gt;(%2) ^ &lt;content&gt;(&lt;color&gt;(%3))))" /> -->
	</actions>
</policy>