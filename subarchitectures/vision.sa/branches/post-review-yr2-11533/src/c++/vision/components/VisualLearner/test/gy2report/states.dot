digraph G {
	graph [layout=dot rankdir=TB]
		// George Year 2 Automated Tutor

		stStart
		stTableEmpty
		opLoadScene [ shape="box" ]
		stWaitToAppear
		stObjectOn
		stTeaching
		opDescribe [ shape="box" ]
		opSayHi    [ shape="box" ]
		stWaitForResponse
		stWaitForLearningTask
		stEndOfTeaching
		stWaitToDisappear
		stFinished
		stTimedOut
		stUnloadScene
		opUnloadScene [ shape="box" ]


		{ stStart } -> { stTableEmpty }
		{ stTableEmpty } -> { opLoadScene }
		{ opLoadScene } -> {stWaitToAppear }
		{ stTableEmpty } -> { stFinished } [ label="No more tests" ]
		{ stWaitToAppear } -> { stObjectOn }
		{ stWaitToAppear } -> { stTimedOut } [ taillabel="to=20" labelfontcolor="red"]
		{ stObjectOn } -> { stTeaching }
		{ stTeaching } -> { opDescribe } [ label="Exactly 1 object,\nKnown attribute" ]
		{ stTeaching } -> { opSayHi } [ label="No Attribute" ]
		{ opDescribe } -> { stWaitForResponse } 
		{ opSayHi } -> { stWaitForResponse2 }
		{ stTeaching } -> { stEndOfTeaching }
		{ stTeaching } -> { stTimedOut } [taillabel="to=10" labelfontcolor="red"]
		{ stWaitForResponse } -> { stWaitForLearningTask } [ label="Got Response" ]
		{ stWaitForResponse } -> { stTimedOut } [ taillabel="to=15"  labelfontcolor="red"] 
		{ stWaitForResponse2 } -> { stTeaching }
		{ stWaitForResponse2 } -> { stTimedOut } [ taillabel="to=15"  labelfontcolor="red"] 
		{ stWaitForLearningTask } -> { stTeaching } [ label="Got LearningTask" ]
		{ stWaitForLearningTask } -> { stTimedOut } [ taillabel="to=120"  labelfontcolor="red"]
		{ stEndOfTeaching } -> { stUnloadScene }
		{ stUnloadScene } -> { opUnloadScene }
		{ opUnloadScene } -> { stWaitToDisappear }
		{ stWaitToDisappear } -> { stTableEmpty }
		{ stWaitToDisappear } -> { stTimedOut } [taillabel="to=20" labelfontcolor="red"]
		{ stTimedOut } -> { stUnloadScene }


}
