# NOTE: all file paths are relative, so you have to start cast-server from the Cogx root directory!

HOST localhost

############ CAST-THINGS ##############
SUBARCHITECTURE vision.sa 
CPP WM SubarchitectureWorkingMemory
CPP TM AlwaysPositiveTaskManager

############ Camera Mount ##############
#COMPONENT CPP ptz.server PlayerPTZServer --ptz-device 0 #--log
CPP MG cameramount CameraMount --fixed --camids "0 1 2" --cam_poses_xml "subarchitectures/vision.sa/config/camPose/campose-left.xml subarchitectures/vision.sa/config/camPose/campose-right.xml subarchitectures/vision.sa/config/camPose/campose-kinect.xml" #--pt_zero_pose "[0.110 0.000 1.370][0 0 0]"

############ POINT CLOUD SERVER ##############
#CPP MG pcserver StereoServer --videoname videoserver --camids "0 1" --stereoconfig subarchitectures/vision.sa/config/tuw_stereo_110404.ini --imgsize "320 240" --maxdisp 96 #--display --logimages --log 
#CPP MG pcserver KinectPCServer --camids "2" --kconfig "subarchitectures/vision.sa/config/KinectConfig.xml" --camconfigs "subarchitectures/vision.sa/config/camPose/camcalib-kinect.xml" --log
CPP MG pcserver KinectStereoServer --videoname videoserver --camids "0 1 2" --camconfigs "subarchitectures/vision.sa/config/camPose/camcalib-left.xml subarchitectures/vision.sa/config/camPose/camcalib-right.xml subarchitectures/vision.sa/config/camPose/camcalib-kinect.xml" --stereoconfig subarchitectures/vision.sa/config/tuw_stereo_110404.ini --imgsize "640 480 320 240" --maxdisp "64 96" --kconfig "subarchitectures/vision.sa/config/KinectConfig.xml" --log #--logimages --display
#CPP MG pcserver KinectStereoSeqServer --camids "0 1 2" --camconfigs "subarchitectures/vision.sa/config/camPose/camcalib-left.xml subarchitectures/vision.sa/config/camPose/camcalib-right.xml subarchitectures/vision.sa/config/camPose/camcalib-kinect.xml" --stereoconfig subarchitectures/vision.sa/config/tuw_stereo_110404.ini --imgsize "640 480 320 240" --maxdisp "64 128" --framerate_ms 10000 --files "instantiations/tuw/2011-04-06-KSImgSeq/img%03d-L.jpg instantiations/tuw/2011-04-06-KSImgSeq/img%03d-R.jpg instantiations/tuw/2011-04-06-KSImgSeq/img%03d-K.jpg instantiations/tuw/2011-04-06-KSImgSeq/img%03d-C.pts" --start 0 --end 7 --log #--display 


############ VIDEO SERVER ##############
### opencv image sequence server
#CPP MG videoserver OpenCvImgSeqServer --camids "0 1" --files "instantiations/tuw/2011-04-06-KSImgSeq/img%03d-L.jpg instantiations/tuw/2011-04-06-KSImgSeq/img%03d-R.jpg" --start 0 --end 7 --framerate_ms 1000 --camconfigs "subarchitectures/vision.sa/config/tuw_stereo_110404.ini:L subarchitectures/vision.sa/config/tuw_stereo_110404.ini:R"

### opencv live images
CPP MG videoserver OpenCvLiveServer --camids "0 1" --devnums "0 1" --devclass FIREWIRE --imgsize "640 480" #--camconfigs "subarchitectures/vision.sa/config/tuw_stereo_110404.ini:L subarchitectures/vision.sa/config/tuw_stereo_110404.ini:R"

############ POINT CLOUD VIEWER ##############
## --servername pcserver => a point cloud server
## --stereoconfig => File for configuring tomGine-Window!
CPP MG pointcloudviewer PointCloudViewer --servername pcserver --stereoconfig subarchitectures/vision.sa/config/tuw_stereo_110404.ini



