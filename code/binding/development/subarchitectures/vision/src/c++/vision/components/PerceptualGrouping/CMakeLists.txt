PROJECT(PerceptualGrouping)
SET(SOURCES PerceptualGrouping.cpp)
SET(HEADERS PerceptualGrouping.h)

SET(IMLIB_INC /usr/X11R6/include)
SET(IMLIB_LIB /usr/X11R6/lib)

INCLUDE_DIRECTORIES(.)

ADD_LIBRARY(${PROJECT_NAME} SHARED ${SOURCES})

ADD_DEPENDENCIES(PerceptualGrouping VisionIDL)
ADD_DEPENDENCIES(PerceptualGrouping Vision)
ADD_DEPENDENCIES(PerceptualGrouping VisionUtils)

TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${OMNIORB4_LIBRARIES})
TARGET_LINK_LIBRARIES(${PROJECT_NAME} VisionIDL)
TARGET_LINK_LIBRARIES(${PROJECT_NAME} Vision VisionUtils)
TARGET_LINK_LIBRARIES(${PROJECT_NAME} vs2)

#TARGET_LINK_LIBRARIES(${PROJECT_NAME} CoSyCommonIDLs)
#TARGET_LINK_LIBRARIES(${PROJECT_NAME} PlanningSubarchAbstr)
#TARGET_LINK_LIBRARIES(${PROJECT_NAME} PlanningSubarchUtil)
#TARGET_LINK_LIBRARIES(${PROJECT_NAME} PlanningSubarch)
#TARGET_LINK_LIBRARIES(${PROJECT_NAME} PlanningData)

# Use pkg-config to find opencv libraries...
INCLUDE(UsePkgConfig)
PKGCONFIG("opencv" OCV_INCLUDE_DIR OCV_LINK_DIR OCV_LINK_FLAGS OCV_CFLAGS)
TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${OCV_LINK_FLAGS})

INSTALL(TARGETS ${PROJECT_NAME} LIBRARY DESTINATION lib)
INSTALL(FILES ${HEADERS} DESTINATION include/vision/components/PerceptualGrouping)
