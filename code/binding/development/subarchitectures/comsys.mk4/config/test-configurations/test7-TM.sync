# Synchronization constraints for the Comsys task manager
# Version: gj, pierrel 071029 (started gj 070820)
#

# The model starts on a phonological string, and then loops for parsing. 
# The model is currently just to test the incremental parser. 

PROCESS GD speech.rec				Comsys:PhonString ; Comsys:SpokenOutputItem
PROCESS GD incrParsingStep			Comsys:PackedLFs
PROCESS GD packedLFprocessingStep	Comsys:PackedLFs
PROCESS GD speechSynth				Comsys:AudioData
PROCESS GD sip						Comsys:RecogResult
PROCESS GD dialint					Comsys:SDRS
PROCESS GD discRefBinding			Comsys:Cache
PROCESS GD eventStructureInt		Comsys:Nucleus
PROCESS GD dialogueMoveInt			Comsys:DialogueMove


SYNC	incrParsingStep			{WAIT:Comsys:PhonString ; WAIT:Comsys:SpokenOutputItem ; WAIT:Comsys:AudioData ; WAIT:Comsys:Cache ; WAIT:Comsys:PackedLFs ; WAIT:Comsys:DialogueMove }
SYNC 	speechSynth				{WAIT:Comsys:SpokenOutputItem ; WAIT:Comsys:PhonString }
SYNC 	speech.rec				{WAIT:Comsys:RecogResult  }
SYNC 	sip						{WAIT:Comsys:AudioData }
SYNC 	discRefBinding			{WAIT:Comsys:PackedLFs ; WAIT:Comsys:Cache ; WAIT:Comsys:DialogueMove }
SYNC 	dialint					{WAIT:Comsys:PackedLFs ; WAIT:Comsys:Cache ; WAIT:Comsys:DialogueMove }
SYNC    eventStructureInt		{WAIT:Comsys:Cache }
SYNC 	dialogueMoveInt			{WAIT:Comsys:PackedLFs ; WAIT:Comsys:Cache; WAIT:Comsys:DialogueMove }

STARTSTATE speech.rec
STARTSTATE sip
ENDSTATE speechSynth
