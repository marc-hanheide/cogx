project (CATEGORICALSA)

# Set build type
# set(CMAKE_BUILD_TYPE Debug)

# You can prepare verbose Makefile to see what's going.
set(CMAKE_VERBOSE_MAKEFILE true)

# Includes
include_directories(${COGX_ROOT}/tools/math/src/c++/autogen)
include_directories(${COGX_ROOT}/tools/hardware/video/src/c++/autogen)
include_directories(${COGX_ROOT}/tools/hardware/pointCloud/src/c++/autogen)
include_directories(${COGX_ROOT}/tools/hardware/video/src/c++/utils)
include_directories(${COGX_ROOT}/tools/hardware/laser/src/c++/autogen)
include_directories(${COGX_ROOT}/subarchitectures/conceptual.sa/src/c++/conceptual/autogen)
include_directories(${COGX_ROOT}/subarchitectures/vision.sa/src/c++/vision/autogen)
include_directories(${COGX_ROOT}/tools/hardware/robotbase/src/c++/autogen)
include_directories(src/c++/categorical)
include_directories(src/c++/categorical/autogen)
include_directories(${COGX_ROOT}/subarchitectures/spatial.sa/src/c++/autogen)


# -----------------------------------------------------------
# Subdirs
# -----------------------------------------------------------

# Autogenerated code
add_subdirectory (src/c++/categorical/autogen)
if (DO_SLICE_ONLY)
   return()
endif()

# Find QT4 
find_package( Qt4 REQUIRED )
include(${QT_USE_FILE})

# Find opencv
find_package(OpenCV REQUIRED)
include_directories(${OPENCV_INCLUDE_DIRS})
link_directories(${OPENCV_LIBRARY_DIRS})

add_definitions(-DBOOST_FILESYSTEM_VERSION=2)

# Tools and shared
add_subdirectory(src/c++/categorical/shared)
add_subdirectory(src/c++/categorical/tools/libcrfh)
add_subdirectory(src/c++/categorical/tools/libsvm-mod)
add_subdirectory(src/c++/categorical/tools/sequentialadaboost)
add_subdirectory(src/c++/categorical/tools/laserextractor)

# Categorical.SA C++ Components
add_subdirectory(src/c++/categorical/components/DataProvider)
add_subdirectory(src/c++/categorical/components/LaserProcessor)
add_subdirectory(src/c++/categorical/components/VisualProcessor)
add_subdirectory(src/c++/categorical/components/DataSaver)
add_subdirectory(src/c++/categorical/components/ShapeIntegrator)
add_subdirectory(src/c++/categorical/components/SizeIntegrator)
add_subdirectory(src/c++/categorical/components/AppearanceIntegrator)
add_subdirectory(src/c++/categorical/components/ObjectRecognizerManager)

# Auxiliary components
option(BUILD_SA_CATEGORICAL_AUX "Build categorical subarchitecture auxiliary components" NO)
if(BUILD_SA_CATEGORICAL_AUX)
    add_subdirectory(src/c++/categorical/tools/dataeditor)
    add_subdirectory(src/python/tools)
endif(BUILD_SA_CATEGORICAL_AUX)

